Сначала посмотрю содержимое `base.js`, чтобы написать точную и полезную документацию.
Ran tool

Сейчас открою `base.js`, чтобы составить краткую и точную документацию.
Ran tool

Проверю `package.json`, чтобы учесть тип модулей и команды запуска в документации.
Ran tool

### Документация к файлу `base.js`

#### Назначение
Скрипт выполняет два последовательных свопа через Uniswap V3 на сети Base:
1) USDT → WETH (ETH) на сумму 1 USDT
2) WETH (ETH) → USDT на сумму 0.0001 ETH

По завершении каждого свопа выводится ссылка на транзакцию в `https://basescan.org`.

#### Зависимости
- `Node.js` 18+
- Пакеты: `ethers`, `dotenv`
- Тип модулей в проекте: `type: "module"` (см. `package.json`)

#### Переменные окружения
Создайте `.env` в корне проекта:
```env
RPC_ETH_URL=...          # RPC-узел сети Base (JSON-RPC)
WALLET_ETH_KEY=...       # Приватный ключ кошелька (с ETH на Base для газа)
```

- `RPC_ETH_URL`: валидный RPC для сети Base (например, публичный провайдер или собственный нод).
- `WALLET_ETH_KEY`: приватный ключ аккаунта, который будет совершать свопы. Должен быть пополнен ETH в сети Base.

#### Адреса и используемые контракты (сеть Base)
- `USDT`: `0xfde4c96c8593536e31f229ea8f37b2ada2699bb2`
- `WETH`: `0x4200000000000000000000000000000000000006`
- `ROUTER` (Uniswap V3 SwapRouter02): `0xEf1c6E67703c7BD7107eed8303Fbe6EC2554BF6B`

#### Логика работы
- Инициализация провайдера и кошелька:
    - `ethers.JsonRpcProvider(RPC_ETH_URL)`
    - `new ethers.Wallet(PRIVATE_KEY, provider)`
- Параметры свопов:
    - `amountInUSDT = 1 USDT` (через `ethers.parseUnits("1", 6)`)
    - `amountOutMinETH = 0.0001 ETH` (минимум выхода для USDT → ETH)
    - `amountInETH = 0.0001 ETH` (вход для ETH → USDT)
    - `amountOutMinUSDT = 0.5 USDT` (минимум выхода для ETH → USDT)
    - Пуловая комиссия `fee = 3000` (0.3%)
    - Дедлайн: текущее время + 10 минут
- `swapUSDTtoETH()`:
    - Делает `approve` на `ROUTER` для `USDT` на сумму `amountInUSDT`
    - Вызывает `router.exactInputSingle(params)` и ждёт подтверждения
- `swapETHtoUSDT()`:
    - Вызывает `router.exactInputSingle(params, { value: amountInETH })` и ждёт подтверждения
- `run()` вызывает оба свопа по очереди

Вывод в консоль: ссылки вида `ETH -> USDT: https://basescan.org/tx/<hash>`.

#### Запуск
- Установите зависимости:
```bash
npm ci
```
- Заполните `.env` (см. выше).
- Запустите скрипт:
```bash
node base.js
```

#### Настройка под себя
- Суммы:
    - Измените `amountInUSDT` и/или `amountInETH`.
- Минимально допустимый выход (анти-слиппедж):
    - Подстройте `amountOutMinETH` и `amountOutMinUSDT`. Сейчас значения фиксированные и не рассчитываются динамически; при агрессивном рынке возможен `revert` или неблагоприятный курс.
- Комиссия пула:
    - Поле `fee: 3000` соответствует 0.3%. При необходимости используйте 500 (0.05%) или 10000 (1%), если такой пул есть и ликвидность достаточна.
- Адреса токенов:
    - Убедитесь, что адреса соответствуют сети Base и нужным ассетам. При замене токенов меняйте также `decimals` в `parseUnits`.

#### Безопасность и ограничения
- Никогда не храните приватный ключ в репозитории. Используйте `.env` и секреты CI/CD.
- Аккаунт должен иметь:
    - Достаточно ETH на газ (в сети Base).
    - Достаточно USDT для первого свопа.
- Значения `amountOutMinimum` заданы статически. Это не защита от проскальзывания на реальном рынке; используйте актуальные котировки и вычисляйте минимум динамически.
- `gasLimit: 500000` задан вручную; провайдер может оценить газ самостоятельно, но ручной лимит помогает избежать недооценки. Корректируйте по необходимости.

#### Типичные ошибки
- Неверный `RPC_ETH_URL`: соединение/запросы будут падать.
- Нулевой или неверный `WALLET_ETH_KEY`: подпись транзакций невозможна.
- Недостаточно ETH на газ или недостача USDT: транзакции отклоняются.
- Слишком жёсткий `amountOutMinimum`: своп `revert` при рыночных колебаниях.

#### Быстрые ссылки
- Эксплорер транзакций: `https://basescan.org`
- Метод маршрутизатора: `exactInputSingle((address,address,uint24,address,uint256,uint256,uint256,uint160))`
- - -
- Вкратце: файл `base.js` подключается к сети Base, через Uniswap V3 делает `USDT → ETH` и затем `ETH → USDT`, используя статические суммы и минимальные выходы, логирует ссылки на `basescan`.